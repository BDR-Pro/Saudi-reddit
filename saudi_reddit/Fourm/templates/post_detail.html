
{% extends 'base.html' %}

{% block title %}
{{ post.title }}
{% endblock %}
{% block content %}

<a href="{% url 'subreddit:subreddit_detail' subreddit.slug %}">{{ subreddit.name }}</a>
  <h1>{{ post.title }}</h1>
  <h6>
    Posted by: 
    <a href="{% url 'User:profile_with_username' username=post.author.username %}">
        {{ post.author.username }}
    </a>
    | {{ post.created_at|date:"F j, Y, g:i a" }}
</h6>

  <p>{{ post.content }}</p>
  {% if post.image %}
  <img src="{{ post.image.url }}" alt="{{ post.title }} Image">
  {% endif %}
  {% if post.video %}
  <video controls>
    <source src="{{ post.video.url }}" type="video/mp4">
    Your browser does not support the video tag.
  </video>
  {% endif %}
  <p>
    Author: <a href="{% url 'User:profile_with_username' username=post.author.username %}">{{ post.author.username }}</a> | Votes: {{ post.votes }} | Views: {{ post.views }}
  </p>
  <a href="{% url 'Fourm:upvote_post' post.id %}">Upvote</a>
  <a href="{% url 'subreddit:subreddit_detail' subreddit.slug %}">Back to {{ subreddit.name }}</a>

  <h2>Comments</h2>
  {% for comment in comments %}
    <div class="comment">
      <p>{{ comment.content }}</p>
      <p>Author: {{ comment.author.username }} | Votes: {{ comment.votes }}</p>
      <a href="{% url 'Fourm:upvote_comment' comment.slug %}">Upvote</a>
        <a href="{% url 'Fourm:downvote_comment' comment.slug %}">Downvote</a>
        {% if user.is_authenticated and user == comment.author %}
        <a href="{% url 'Fourm:delete_comment' comment.slug %}">Delete</a>
        {% endif %}
    </div>
  {% endfor %}
  
  <h3>Add a Comment</h3>
  <form method="post" action="{% url 'Fourm:add_comment' post.slug %}">
    {% csrf_token %}
    <textarea name="content" rows="4" cols="50" required></textarea><br>
    <input type="submit" value="Add Comment">
  </form>


  <style>
    /* Add these styles to your existing CSS file or create a new one */

    /* Global Styles */
    body {
        font-family: 'Arial', sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f8f9fa; /* Bootstrap background color */
        color: #495057; /* Bootstrap text color */
    }
    
    .container {
        margin-top: 20px;
    }
    
    /* Header Styles */
    h1 {
        color: #343a40; /* Bootstrap dark color */
        margin-bottom: 20px;
    }
    
    /* Post Content Styles */
    .post-content {
        line-height: 1.6;
        margin-bottom: 20px;
    }
    
    .post-image {
        max-width: 100%;
        height: auto;
        margin-bottom: 20px;
    }
    
    .author-info {
        font-size: 14px;
        color: #868e96; /* Bootstrap secondary color */
        margin-bottom: 20px;
    }
    
    .vote-section {
        margin-bottom: 20px;
    }
    
    .vote-section a {
        color: #007bff; /* Bootstrap primary color */
        text-decoration: none;
        margin-right: 15px;
    }
    
    .vote-section a:hover {
        text-decoration: underline;
    }
    
    /* Comments Styles */
    .comments-section {
        margin-top: 30px;
    }
    
    .comment {
        border: 1px solid #ced4da; /* Bootstrap gray border color */
        padding: 15px;
        margin-bottom: 20px;
    }
    
    .comment-content {
        margin-bottom: 10px;
    }
    
    .comment-author {
        font-size: 14px;
        color: #868e96; /* Bootstrap secondary color */
    }
    
    .comment-actions {
        margin-top: 10px;
    }
    
    .comment-actions a {
        color: #007bff; /* Bootstrap primary color */
        text-decoration: none;
        margin-right: 10px;
    }
    
    .comment-actions a:hover {
        text-decoration: underline;
    }
    
    /* Add Comment Section Styles */
    .add-comment-section {
        margin-top: 30px;
    }
    
    .add-comment-section h3 {
        margin-bottom: 15px;
    }
    
    .comment-form {
        margin-top: 15px;
    }
    
    .comment-form textarea {
        width: 100%;
        padding: 10px;
        margin-bottom: 15px;
    }
    
    .comment-form input[type="submit"] {
        background-color: #007bff; /* Bootstrap primary color */
        color: #ffffff;
        padding: 10px 20px;
        border: none;
        border-radius: 3px;
        cursor: pointer;
    }
    
    .comment-form input[type="submit"]:hover {
        background-color: #0056b3; /* Darker shade on hover */
    }
    
    
  </style>
{% endblock %}
